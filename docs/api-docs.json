{"openapi":"3.0.1","info":{"title":"LIMS系统API文档","description":"基于GB/T 40343-2021标准的实验室信息管理系统","version":"1.0"},"servers":[{"url":"http://localhost:8099","description":"Generated server url"}],"tags":[{"name":"权限管理","description":"系统权限管理接口"},{"name":"角色管理","description":"角色和权限管理接口"},{"name":"用户管理","description":"用户账户管理接口"}],"paths":{"/api/system/users/{id}":{"get":{"tags":["用户管理"],"summary":"获取用户详情","description":"获取单个用户详细信息","operationId":"getUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"put":{"tags":["用户管理"],"summary":"更新用户","description":"更新用户账户信息","operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"delete":{"tags":["用户管理"],"summary":"删除用户","description":"删除用户账户（逻辑删除）","operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/system/roles/{id}":{"put":{"tags":["角色管理"],"summary":"更新角色","description":"更新角色信息","operationId":"updateRole","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}}}}},"/api/system/permissions/{id}":{"put":{"tags":["权限管理"],"summary":"更新权限","description":"更新指定ID的权限信息","operationId":"updatePermission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionResponse"}}}}}},"delete":{"tags":["权限管理"],"summary":"删除权限","description":"删除指定ID的权限","operationId":"deletePermission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/system/users":{"get":{"tags":["用户管理"],"summary":"获取用户列表","description":"获取所有用户列表","operationId":"getUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"post":{"tags":["用户管理"],"summary":"创建用户","description":"创建新用户账户","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/system/roles":{"get":{"tags":["角色管理"],"summary":"获取角色列表","description":"获取所有角色列表","operationId":"getRoles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleResponse"}}}}}}},"post":{"tags":["角色管理"],"summary":"创建角色","description":"创建新角色","operationId":"createRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}}}}},"/api/system/roles/{roleId}/permissions/{permissionId}":{"post":{"tags":["角色管理"],"summary":"为角色添加权限","description":"为指定角色添加权限","operationId":"addPermissionToRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"permissionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}},"delete":{"tags":["角色管理"],"summary":"移除角色权限","description":"从指定角色移除权限","operationId":"removePermissionFromRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"permissionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/system/permissions":{"get":{"tags":["权限管理"],"summary":"获取权限列表","description":"获取所有权限列表","operationId":"getPermissions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionResponse"}}}}}}},"post":{"tags":["权限管理"],"summary":"创建权限","description":"创建新权限","operationId":"createPermission","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionResponse"}}}}}}},"/api/system/users/{id}/status":{"patch":{"tags":["用户管理"],"summary":"更新用户状态","description":"启用/禁用用户账户","operationId":"updateUserStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"enabled","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"UserRequest":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string","description":"用户名","example":"admin"},"password":{"maxLength":2147483647,"minLength":8,"type":"string","description":"密码","example":"P@ssw0rd!"},"enabled":{"type":"boolean","description":"是否启用","default":true},"roleIds":{"type":"array","description":"关联角色ID列表","items":{"type":"integer","description":"关联角色ID列表","format":"int64"}}},"description":"用户请求对象"},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"enabled":{"type":"boolean"}}},"RoleRequest":{"required":["name"],"type":"object","properties":{"name":{"type":"string","description":"角色名称","example":"管理员"},"description":{"type":"string","description":"角色描述","example":"系统管理员角色"},"permissionIds":{"type":"array","description":"关联权限ID列表","items":{"type":"integer","description":"关联权限ID列表","format":"int64"}}},"description":"角色请求对象"},"RoleResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"permissionIds":{"type":"array","items":{"type":"integer","format":"int64"}}},"description":"角色响应对象"},"PermissionRequest":{"required":["code"],"type":"object","properties":{"code":{"type":"string","description":"权限代码","example":"user:create"},"description":{"type":"string","description":"权限描述","example":"创建用户权限"}},"description":"权限请求对象"},"PermissionResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"code":{"type":"string"},"description":{"type":"string"}},"description":"权限响应对象"}},"securitySchemes":{"JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}